{"ast":null,"code":"'use strict';\n\nimport { shouldBeUseWeb } from \"./PlatformChecker.js\";\nimport { ReanimatedError } from \"./errors.js\";\nimport { logger } from \"./logger/index.js\";\nimport { isFirstReactRender, isReactRendering } from \"./reactUtils.js\";\nimport { shareableMappingCache } from \"./shareableMappingCache.js\";\nimport { makeShareableCloneRecursive } from \"./shareables.js\";\nimport { executeOnUIRuntimeSync, runOnUI } from \"./threads.js\";\nimport { valueSetter } from \"./valueSetter.js\";\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\nfunction shouldWarnAboutAccessDuringRender() {\n  return __DEV__ && isReactRendering() && !isFirstReactRender();\n}\nfunction checkInvalidReadDuringRender() {\n  if (shouldWarnAboutAccessDuringRender()) {\n    logger.warn('Reading from `value` during component render. Please ensure that you do not access the `value` property or use `get` method of a shared value while React is rendering a component.', {\n      strict: true\n    });\n  }\n}\nfunction checkInvalidWriteDuringRender() {\n  if (shouldWarnAboutAccessDuringRender()) {\n    logger.warn('Writing to `value` during component render. Please ensure that you do not access the `value` property or use `set` method of a shared value while React is rendering a component.', {\n      strict: true\n    });\n  }\n}\nconst _worklet_16613993390818_init_data = {\n  code: \"function addCompilerSafeGetAndSet_reactNativeReanimated_mutablesJs1(mutable){Object.defineProperties(mutable,{get:{value:function(){return mutable.value;},configurable:false,enumerable:false},set:{value:function(newValue){if(typeof newValue==='function'&&!newValue.__isAnimationDefinition){mutable.value=newValue(mutable.value);}else{mutable.value=newValue;}},configurable:false,enumerable:false}});}\",\n  location: \"/app/node_modules/react-native-reanimated/lib/module/mutables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"addCompilerSafeGetAndSet_reactNativeReanimated_mutablesJs1\\\",\\\"mutable\\\",\\\"Object\\\",\\\"defineProperties\\\",\\\"get\\\",\\\"value\\\",\\\"configurable\\\",\\\"enumerable\\\",\\\"set\\\",\\\"newValue\\\",\\\"__isAnimationDefinition\\\"],\\\"sources\\\":[\\\"/app/node_modules/react-native-reanimated/lib/module/mutables.js\\\"],\\\"mappings\\\":\\\"AA4BA,SAAAA,2DAAAC,OAAA,EAAAC,MAAA,CAAAC,gBAAA,CAAAF,OAAA,EACAG,GAAA,EACAC,KAAA,SAAAA,CAAA,EACA,OAAAJ,OAAA,CAAAI,KAAA,CACA,EACAC,YAAA,OACAC,UAAA,MACA,EACAC,GAAA,EACAH,KAAS,SAAAA,CAAAI,QAAA,CAAwB,CAGzB,GAAC,OAAAA,QAAiB,aAAS,EAE7B,CAAAA,QAAK,CAAAC,uBAAG,EACNT,OAAO,CAAAI,KAAQ,CAAAI,QAAK,CAAAR,OAAA,CAAAI,KAAA,EACrB,MACDJ,OAAA,CAAYI,KAAE,CAAKI,QAAA,CACnB,CACD,EACDH,YAAK,OACHC,UAAK,M\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.16.7\"\n};\nconst addCompilerSafeGetAndSet = function () {\n  const _e = [new global.Error(), 1, -27];\n  const addCompilerSafeGetAndSet = function (mutable) {\n    Object.defineProperties(mutable, {\n      get: {\n        value() {\n          return mutable.value;\n        },\n        configurable: false,\n        enumerable: false\n      },\n      set: {\n        value(newValue) {\n          if (typeof newValue === 'function' && !newValue.__isAnimationDefinition) {\n            mutable.value = newValue(mutable.value);\n          } else {\n            mutable.value = newValue;\n          }\n        },\n        configurable: false,\n        enumerable: false\n      }\n    });\n  };\n  addCompilerSafeGetAndSet.__closure = {};\n  addCompilerSafeGetAndSet.__workletHash = 16613993390818;\n  addCompilerSafeGetAndSet.__initData = _worklet_16613993390818_init_data;\n  addCompilerSafeGetAndSet.__stackDetails = _e;\n  return addCompilerSafeGetAndSet;\n}();\nconst _worklet_8838646149489_init_data = {\n  code: \"function hideInternalValueProp_reactNativeReanimated_mutablesJs2(mutable){Object.defineProperty(mutable,'_value',{configurable:false,enumerable:false});}\",\n  location: \"/app/node_modules/react-native-reanimated/lib/module/mutables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"hideInternalValueProp_reactNativeReanimated_mutablesJs2\\\",\\\"mutable\\\",\\\"Object\\\",\\\"defineProperty\\\",\\\"configurable\\\",\\\"enumerable\\\"],\\\"sources\\\":[\\\"/app/node_modules/react-native-reanimated/lib/module/mutables.js\\\"],\\\"mappings\\\":\\\"AA+DA,SAAAA,wDAAAC,OAAA,EAAAC,MAAA,CAAAC,cAAA,CAAAF,OAAA,WACAG,YAAA,OACAC,UAAA,MACA,GACA\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.16.7\"\n};\nconst hideInternalValueProp = function () {\n  const _e = [new global.Error(), 1, -27];\n  const hideInternalValueProp = function (mutable) {\n    Object.defineProperty(mutable, '_value', {\n      configurable: false,\n      enumerable: false\n    });\n  };\n  hideInternalValueProp.__closure = {};\n  hideInternalValueProp.__workletHash = 8838646149489;\n  hideInternalValueProp.__initData = _worklet_8838646149489_init_data;\n  hideInternalValueProp.__stackDetails = _e;\n  return hideInternalValueProp;\n}();\nconst _worklet_2026298274947_init_data = {\n  code: \"function makeMutableUI_reactNativeReanimated_mutablesJs3(initial){const{valueSetter,hideInternalValueProp,addCompilerSafeGetAndSet}=this.__closure;const listeners=new Map();let value=initial;const mutable={get value(){return value;},set value(newValue){valueSetter(mutable,newValue);},get _value(){return value;},set _value(newValue){value=newValue;listeners.forEach(function(listener){listener(newValue);});},modify:function(modifier,forceUpdate=true){valueSetter(mutable,modifier!==undefined?modifier(value):value,forceUpdate);},addListener:function(id,listener){listeners.set(id,listener);},removeListener:function(id){listeners.delete(id);},_animation:null,_isReanimatedSharedValue:true};hideInternalValueProp(mutable);addCompilerSafeGetAndSet(mutable);return mutable;}\",\n  location: \"/app/node_modules/react-native-reanimated/lib/module/mutables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"makeMutableUI_reactNativeReanimated_mutablesJs3\\\",\\\"initial\\\",\\\"valueSetter\\\",\\\"hideInternalValueProp\\\",\\\"addCompilerSafeGetAndSet\\\",\\\"__closure\\\",\\\"listeners\\\",\\\"Map\\\",\\\"value\\\",\\\"mutable\\\",\\\"newValue\\\",\\\"_value\\\",\\\"forEach\\\",\\\"listener\\\",\\\"modify\\\",\\\"modifier\\\",\\\"forceUpdate\\\",\\\"undefined\\\",\\\"addListener\\\",\\\"id\\\",\\\"set\\\",\\\"removeListener\\\",\\\"delete\\\",\\\"_animation\\\",\\\"_isReanimatedSharedValue\\\"],\\\"sources\\\":[\\\"/app/node_modules/react-native-reanimated/lib/module/mutables.js\\\"],\\\"mappings\\\":\\\"AAoFO,SAAAA,+CAAgCA,CAAAC,OAAA,QAAAC,WAAA,CAAAC,qBAAA,CAAAC,wBAAA,OAAAC,SAAA,CAGrC,KAAM,CAAAC,SAAS,CAAG,GAAI,CAAAC,GAAG,CAAC,CAAC,CAC3B,GAAI,CAAAC,KAAK,CAAGP,OAAO,CACnB,KAAM,CAAAQ,OAAO,CAAG,CACd,GAAI,CAAAD,KAAKA,CAAA,CAAG,CACV,MAAO,CAAAA,KAAK,CACd,CAAC,CACD,GAAI,CAAAA,KAAKA,CAACE,QAAQ,CAAE,CAClBR,WAAW,CAACO,OAAO,CAAEC,QAAQ,CAAC,CAChC,CAAC,CACD,GAAI,CAAAC,MAAMA,CAAA,CAAG,CACX,MAAO,CAAAH,KAAK,CACd,CAAC,CACD,GAAI,CAAAG,MAAMA,CAACD,QAAQ,CAAE,CACnBF,KAAK,CAAGE,QAAQ,CAChBJ,SAAS,CAACM,OAAO,CAAC,SAAAC,QAAQ,CAAI,CAC5BA,QAAQ,CAACH,QAAQ,CAAC,CACpB,CAAC,CAAC,CACJ,CAAC,CACDI,MAAM,CAAE,QAAAA,CAACC,QAAQ,CAAEC,WAAW,CAAG,IAAI,CAAK,CACxCd,WAAW,CAACO,OAAO,CAAEM,QAAQ,GAAKE,SAAS,CAAGF,QAAQ,CAACP,KAAK,CAAC,CAAGA,KAAK,CAAEQ,WAAW,CAAC,CACrF,CAAC,CACDE,WAAW,CAAE,QAAAA,CAACC,EAAE,CAAEN,QAAQ,CAAK,CAC7BP,SAAS,CAACc,GAAG,CAACD,EAAE,CAAEN,QAAQ,CAAC,CAC7B,CAAC,CACDQ,cAAc,CAAE,QAAAA,CAAAF,EAAE,CAAI,CACpBb,SAAS,CAACgB,MAAM,CAACH,EAAE,CAAC,CACtB,CAAC,CACDI,UAAU,CAAE,IAAI,CAChBC,wBAAwB,CAAE,IAC5B,CAAC,CACDrB,qBAAqB,CAACM,OAAO,CAAC,CAC9BL,wBAAwB,CAACK,OAAO,CAAC,CACjC,MAAO,CAAAA,OAAO,CAChB\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.16.7\"\n};\nexport const makeMutableUI = function () {\n  const _e = [new global.Error(), -4, -27];\n  const makeMutableUI = function (initial) {\n    const listeners = new Map();\n    let value = initial;\n    const mutable = {\n      get value() {\n        return value;\n      },\n      set value(newValue) {\n        valueSetter(mutable, newValue);\n      },\n      get _value() {\n        return value;\n      },\n      set _value(newValue) {\n        value = newValue;\n        listeners.forEach(listener => {\n          listener(newValue);\n        });\n      },\n      modify: (modifier, forceUpdate = true) => {\n        valueSetter(mutable, modifier !== undefined ? modifier(value) : value, forceUpdate);\n      },\n      addListener: (id, listener) => {\n        listeners.set(id, listener);\n      },\n      removeListener: id => {\n        listeners.delete(id);\n      },\n      _animation: null,\n      _isReanimatedSharedValue: true\n    };\n    hideInternalValueProp(mutable);\n    addCompilerSafeGetAndSet(mutable);\n    return mutable;\n  };\n  makeMutableUI.__closure = {\n    valueSetter,\n    hideInternalValueProp,\n    addCompilerSafeGetAndSet\n  };\n  makeMutableUI.__workletHash = 2026298274947;\n  makeMutableUI.__initData = _worklet_2026298274947_init_data;\n  makeMutableUI.__stackDetails = _e;\n  return makeMutableUI;\n}();\nconst _worklet_15447635741741_init_data = {\n  code: \"function reactNativeReanimated_mutablesJs4(){const{makeMutableUI,initial}=this.__closure;return makeMutableUI(initial);}\",\n  location: \"/app/node_modules/react-native-reanimated/lib/module/mutables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"reactNativeReanimated_mutablesJs4\\\",\\\"makeMutableUI\\\",\\\"initial\\\",\\\"__closure\\\"],\\\"sources\\\":[\\\"/app/node_modules/react-native-reanimated/lib/module/mutables.js\\\"],\\\"mappings\\\":\\\"AA2HY,SAAAA,iCAAMA,CAAA,QAAAC,aAAA,CAAAC,OAAA,OAAAC,SAAA,CAGZ,MAAO,CAAAF,aAAa,CAACC,OAAO,CAAC,CAC/B\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.16.7\"\n};\nconst _worklet_5992386903096_init_data = {\n  code: \"function reactNativeReanimated_mutablesJs5(sv){return sv.value;}\",\n  location: \"/app/node_modules/react-native-reanimated/lib/module/mutables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"reactNativeReanimated_mutablesJs5\\\",\\\"sv\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/app/node_modules/react-native-reanimated/lib/module/mutables.js\\\"],\\\"mappings\\\":\\\"AAoImD,SAAAA,iCAAMA,CAAAC,EAAA,EACjD,MAAO,CAAAA,EAAE,CAACC,KAAK,CACjB\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.16.7\"\n};\nconst _worklet_6286833930716_init_data = {\n  code: \"function reactNativeReanimated_mutablesJs6(){const{mutable,newValue}=this.__closure;mutable.value=newValue;}\",\n  location: \"/app/node_modules/react-native-reanimated/lib/module/mutables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"reactNativeReanimated_mutablesJs6\\\",\\\"mutable\\\",\\\"newValue\\\",\\\"__closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/app/node_modules/react-native-reanimated/lib/module/mutables.js\\\"],\\\"mappings\\\":\\\"AA2Ic,SAAAA,iCAAMA,CAAA,QAAAC,OAAA,CAAAC,QAAA,OAAAC,SAAA,CACZF,OAAO,CAACG,KAAK,CAAGF,QAAQ,CAC1B\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.16.7\"\n};\nconst _worklet_6323190190522_init_data = {\n  code: \"function reactNativeReanimated_mutablesJs7(){const{mutable,modifier,forceUpdate}=this.__closure;mutable.modify(modifier,forceUpdate);}\",\n  location: \"/app/node_modules/react-native-reanimated/lib/module/mutables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"reactNativeReanimated_mutablesJs7\\\",\\\"mutable\\\",\\\"modifier\\\",\\\"forceUpdate\\\",\\\"__closure\\\",\\\"modify\\\"],\\\"sources\\\":[\\\"/app/node_modules/react-native-reanimated/lib/module/mutables.js\\\"],\\\"mappings\\\":\\\"AAsJc,SAAAA,iCAAMA,CAAA,QAAAC,OAAA,CAAAC,QAAA,CAAAC,WAAA,OAAAC,SAAA,CACZH,OAAO,CAACI,MAAM,CAACH,QAAQ,CAAEC,WAAW,CAAC,CACvC\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.16.7\"\n};\nfunction makeMutableNative(initial) {\n  const handle = makeShareableCloneRecursive({\n    __init: function () {\n      const _e = [new global.Error(), -3, -27];\n      const reactNativeReanimated_mutablesJs4 = function () {\n        return makeMutableUI(initial);\n      };\n      reactNativeReanimated_mutablesJs4.__closure = {\n        makeMutableUI,\n        initial\n      };\n      reactNativeReanimated_mutablesJs4.__workletHash = 15447635741741;\n      reactNativeReanimated_mutablesJs4.__initData = _worklet_15447635741741_init_data;\n      reactNativeReanimated_mutablesJs4.__stackDetails = _e;\n      return reactNativeReanimated_mutablesJs4;\n    }()\n  });\n  const mutable = {\n    get value() {\n      checkInvalidReadDuringRender();\n      const uiValueGetter = executeOnUIRuntimeSync(function () {\n        const _e = [new global.Error(), 1, -27];\n        const reactNativeReanimated_mutablesJs5 = function (sv) {\n          return sv.value;\n        };\n        reactNativeReanimated_mutablesJs5.__closure = {};\n        reactNativeReanimated_mutablesJs5.__workletHash = 5992386903096;\n        reactNativeReanimated_mutablesJs5.__initData = _worklet_5992386903096_init_data;\n        reactNativeReanimated_mutablesJs5.__stackDetails = _e;\n        return reactNativeReanimated_mutablesJs5;\n      }());\n      return uiValueGetter(mutable);\n    },\n    set value(newValue) {\n      checkInvalidWriteDuringRender();\n      runOnUI(function () {\n        const _e = [new global.Error(), -3, -27];\n        const reactNativeReanimated_mutablesJs6 = function () {\n          mutable.value = newValue;\n        };\n        reactNativeReanimated_mutablesJs6.__closure = {\n          mutable,\n          newValue\n        };\n        reactNativeReanimated_mutablesJs6.__workletHash = 6286833930716;\n        reactNativeReanimated_mutablesJs6.__initData = _worklet_6286833930716_init_data;\n        reactNativeReanimated_mutablesJs6.__stackDetails = _e;\n        return reactNativeReanimated_mutablesJs6;\n      }())();\n    },\n    get _value() {\n      throw new ReanimatedError('Reading from `_value` directly is only possible on the UI runtime. Perhaps you passed an Animated Style to a non-animated component?');\n    },\n    set _value(_newValue) {\n      throw new ReanimatedError('Setting `_value` directly is only possible on the UI runtime. Perhaps you want to assign to `value` instead?');\n    },\n    modify: (modifier, forceUpdate = true) => {\n      runOnUI(function () {\n        const _e = [new global.Error(), -4, -27];\n        const reactNativeReanimated_mutablesJs7 = function () {\n          mutable.modify(modifier, forceUpdate);\n        };\n        reactNativeReanimated_mutablesJs7.__closure = {\n          mutable,\n          modifier,\n          forceUpdate\n        };\n        reactNativeReanimated_mutablesJs7.__workletHash = 6323190190522;\n        reactNativeReanimated_mutablesJs7.__initData = _worklet_6323190190522_init_data;\n        reactNativeReanimated_mutablesJs7.__stackDetails = _e;\n        return reactNativeReanimated_mutablesJs7;\n      }())();\n    },\n    addListener: () => {\n      throw new ReanimatedError('Adding listeners is only possible on the UI runtime.');\n    },\n    removeListener: () => {\n      throw new ReanimatedError('Removing listeners is only possible on the UI runtime.');\n    },\n    _isReanimatedSharedValue: true\n  };\n  hideInternalValueProp(mutable);\n  addCompilerSafeGetAndSet(mutable);\n  shareableMappingCache.set(mutable, handle);\n  return mutable;\n}\nfunction makeMutableWeb(initial) {\n  let value = initial;\n  const listeners = new Map();\n  const mutable = {\n    get value() {\n      checkInvalidReadDuringRender();\n      return value;\n    },\n    set value(newValue) {\n      checkInvalidWriteDuringRender();\n      valueSetter(mutable, newValue);\n    },\n    get _value() {\n      return value;\n    },\n    set _value(newValue) {\n      value = newValue;\n      listeners.forEach(listener => {\n        listener(newValue);\n      });\n    },\n    modify: (modifier, forceUpdate = true) => {\n      valueSetter(mutable, modifier !== undefined ? modifier(mutable.value) : mutable.value, forceUpdate);\n    },\n    addListener: (id, listener) => {\n      listeners.set(id, listener);\n    },\n    removeListener: id => {\n      listeners.delete(id);\n    },\n    _isReanimatedSharedValue: true\n  };\n  hideInternalValueProp(mutable);\n  addCompilerSafeGetAndSet(mutable);\n  return mutable;\n}\nexport const makeMutable = SHOULD_BE_USE_WEB ? makeMutableWeb : makeMutableNative;","map":{"version":3,"names":["shouldBeUseWeb","ReanimatedError","logger","isFirstReactRender","isReactRendering","shareableMappingCache","makeShareableCloneRecursive","executeOnUIRuntimeSync","runOnUI","valueSetter","SHOULD_BE_USE_WEB","shouldWarnAboutAccessDuringRender","__DEV__","checkInvalidReadDuringRender","warn","strict","checkInvalidWriteDuringRender","_worklet_16613993390818_init_data","code","location","sourceMap","version","addCompilerSafeGetAndSet","_e","global","Error","mutable","Object","defineProperties","get","value","configurable","enumerable","set","newValue","__isAnimationDefinition","__closure","__workletHash","__initData","__stackDetails","_worklet_8838646149489_init_data","hideInternalValueProp","defineProperty","_worklet_2026298274947_init_data","makeMutableUI","initial","listeners","Map","_value","forEach","listener","modify","modifier","forceUpdate","undefined","addListener","id","removeListener","delete","_animation","_isReanimatedSharedValue","_worklet_15447635741741_init_data","_worklet_5992386903096_init_data","_worklet_6286833930716_init_data","_worklet_6323190190522_init_data","makeMutableNative","handle","__init","reactNativeReanimated_mutablesJs4","uiValueGetter","reactNativeReanimated_mutablesJs5","sv","reactNativeReanimated_mutablesJs6","_newValue","reactNativeReanimated_mutablesJs7","makeMutableWeb","makeMutable"],"sources":["/app/node_modules/react-native-reanimated/src/mutables.ts"],"sourcesContent":["'use strict';\nimport { shouldBeUseWeb } from './PlatformChecker';\nimport type { Mutable } from './commonTypes';\nimport { ReanimatedError } from './errors';\nimport { logger } from './logger';\nimport { isFirstReactRender, isReactRendering } from './reactUtils';\nimport { shareableMappingCache } from './shareableMappingCache';\nimport { makeShareableCloneRecursive } from './shareables';\nimport { executeOnUIRuntimeSync, runOnUI } from './threads';\nimport { valueSetter } from './valueSetter';\n\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nfunction shouldWarnAboutAccessDuringRender() {\n  return __DEV__ && isReactRendering() && !isFirstReactRender();\n}\n\nfunction checkInvalidReadDuringRender() {\n  if (shouldWarnAboutAccessDuringRender()) {\n    logger.warn(\n      'Reading from `value` during component render. Please ensure that you do not access the `value` property or use `get` method of a shared value while React is rendering a component.',\n      { strict: true }\n    );\n  }\n}\n\nfunction checkInvalidWriteDuringRender() {\n  if (shouldWarnAboutAccessDuringRender()) {\n    logger.warn(\n      'Writing to `value` during component render. Please ensure that you do not access the `value` property or use `set` method of a shared value while React is rendering a component.',\n      { strict: true }\n    );\n  }\n}\n\ntype Listener<Value> = (newValue: Value) => void;\n\ntype PartialMutable<Value> = Omit<Mutable<Value>, 'get' | 'set'>;\n\n/**\n * Adds `get` and `set` methods to the mutable object to handle access to\n * `value` property.\n *\n * React Compiler disallows modifying return values of hooks. Even though\n * assignment to `value` is a setter invocation, Compiler's static analysis\n * doesn't detect it. That's why we provide a second API for users using the\n * Compiler.\n */\nfunction addCompilerSafeGetAndSet<Value>(mutable: PartialMutable<Value>): void {\n  'worklet';\n  Object.defineProperties(mutable, {\n    get: {\n      value() {\n        return mutable.value;\n      },\n      configurable: false,\n      enumerable: false,\n    },\n    set: {\n      value(newValue: Value | ((value: Value) => Value)) {\n        if (\n          typeof newValue === 'function' &&\n          // If we have an animation definition, we don't want to call it here.\n          !(newValue as Record<string, unknown>).__isAnimationDefinition\n        ) {\n          mutable.value = (newValue as (value: Value) => Value)(mutable.value);\n        } else {\n          mutable.value = newValue as Value;\n        }\n      },\n      configurable: false,\n      enumerable: false,\n    },\n  });\n}\n/**\n * Hides the internal `_value` property of a mutable. It won't be visible to:\n *\n * - `Object.keys`,\n * - `const prop in obj`,\n * - Etc.\n *\n * This way when the user accidentally sends the SharedValue to React, he won't\n * get an obscure error message.\n *\n * We hide for both _React runtime_ and _Worklet runtime_ mutables for\n * uniformity of behavior.\n */\nfunction hideInternalValueProp<Value>(mutable: PartialMutable<Value>) {\n  'worklet';\n  Object.defineProperty(mutable, '_value', {\n    configurable: false,\n    enumerable: false,\n  });\n}\n\nexport function makeMutableUI<Value>(initial: Value): Mutable<Value> {\n  'worklet';\n  const listeners = new Map<number, Listener<Value>>();\n  let value = initial;\n\n  const mutable: PartialMutable<Value> = {\n    get value() {\n      return value;\n    },\n    set value(newValue) {\n      valueSetter(mutable as Mutable<Value>, newValue);\n    },\n    get _value(): Value {\n      return value;\n    },\n    set _value(newValue: Value) {\n      value = newValue;\n      listeners.forEach((listener) => {\n        listener(newValue);\n      });\n    },\n    modify: (modifier, forceUpdate = true) => {\n      valueSetter(\n        mutable as Mutable<Value>,\n        modifier !== undefined ? modifier(value) : value,\n        forceUpdate\n      );\n    },\n    addListener: (id: number, listener: Listener<Value>) => {\n      listeners.set(id, listener);\n    },\n    removeListener: (id: number) => {\n      listeners.delete(id);\n    },\n\n    _animation: null,\n    _isReanimatedSharedValue: true,\n  };\n\n  hideInternalValueProp(mutable);\n  addCompilerSafeGetAndSet(mutable);\n\n  return mutable as Mutable<Value>;\n}\n\nfunction makeMutableNative<Value>(initial: Value): Mutable<Value> {\n  const handle = makeShareableCloneRecursive({\n    __init: () => {\n      'worklet';\n      return makeMutableUI(initial);\n    },\n  });\n\n  const mutable: PartialMutable<Value> = {\n    get value(): Value {\n      checkInvalidReadDuringRender();\n      const uiValueGetter = executeOnUIRuntimeSync((sv: Mutable<Value>) => {\n        return sv.value;\n      });\n      return uiValueGetter(mutable as Mutable<Value>);\n    },\n    set value(newValue) {\n      checkInvalidWriteDuringRender();\n      runOnUI(() => {\n        mutable.value = newValue;\n      })();\n    },\n\n    get _value(): Value {\n      throw new ReanimatedError(\n        'Reading from `_value` directly is only possible on the UI runtime. Perhaps you passed an Animated Style to a non-animated component?'\n      );\n    },\n    set _value(_newValue: Value) {\n      throw new ReanimatedError(\n        'Setting `_value` directly is only possible on the UI runtime. Perhaps you want to assign to `value` instead?'\n      );\n    },\n\n    modify: (modifier, forceUpdate = true) => {\n      runOnUI(() => {\n        mutable.modify(modifier, forceUpdate);\n      })();\n    },\n    addListener: () => {\n      throw new ReanimatedError(\n        'Adding listeners is only possible on the UI runtime.'\n      );\n    },\n    removeListener: () => {\n      throw new ReanimatedError(\n        'Removing listeners is only possible on the UI runtime.'\n      );\n    },\n\n    _isReanimatedSharedValue: true,\n  };\n\n  hideInternalValueProp(mutable);\n  addCompilerSafeGetAndSet(mutable);\n\n  shareableMappingCache.set(mutable, handle);\n  return mutable as Mutable<Value>;\n}\n\nfunction makeMutableWeb<Value>(initial: Value): Mutable<Value> {\n  let value: Value = initial;\n  const listeners = new Map<number, Listener<Value>>();\n\n  const mutable: PartialMutable<Value> = {\n    get value(): Value {\n      checkInvalidReadDuringRender();\n      return value;\n    },\n    set value(newValue) {\n      checkInvalidWriteDuringRender();\n      valueSetter(mutable as Mutable<Value>, newValue);\n    },\n\n    get _value(): Value {\n      return value;\n    },\n    set _value(newValue: Value) {\n      value = newValue;\n      listeners.forEach((listener) => {\n        listener(newValue);\n      });\n    },\n\n    modify: (modifier, forceUpdate = true) => {\n      valueSetter(\n        mutable as Mutable<Value>,\n        modifier !== undefined ? modifier(mutable.value) : mutable.value,\n        forceUpdate\n      );\n    },\n    addListener: (id: number, listener: Listener<Value>) => {\n      listeners.set(id, listener);\n    },\n    removeListener: (id: number) => {\n      listeners.delete(id);\n    },\n\n    _isReanimatedSharedValue: true,\n  };\n\n  hideInternalValueProp(mutable);\n  addCompilerSafeGetAndSet(mutable);\n\n  return mutable as Mutable<Value>;\n}\n\nexport const makeMutable = SHOULD_BE_USE_WEB\n  ? makeMutableWeb\n  : makeMutableNative;\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}