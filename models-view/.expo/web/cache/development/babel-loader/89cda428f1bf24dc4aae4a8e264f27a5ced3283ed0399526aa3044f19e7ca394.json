{"ast":null,"code":"var _jsxFileName = \"/app/node_modules/@expo/metro-runtime/src/error-overlay/toast/ErrorToastContainer.web.tsx\";\nimport React, { useCallback, useMemo } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { ErrorToast } from './ErrorToast';\nimport * as LogBoxData from '../Data/LogBoxData';\nimport { useLogs } from '../Data/LogContext';\nimport { useRejectionHandler } from '../useRejectionHandler';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ErrorToastContainer() {\n  useRejectionHandler();\n  const {\n    logs,\n    isDisabled\n  } = useLogs();\n  if (!logs.length || isDisabled) {\n    return null;\n  }\n  return _jsxDEV(ErrorToastStack, {\n    logs: logs\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 10\n  }, this);\n}\nfunction ErrorToastStack({\n  logs\n}) {\n  const onDismissWarns = useCallback(() => {\n    LogBoxData.clearWarnings();\n  }, []);\n  const onDismissErrors = useCallback(() => {\n    LogBoxData.clearErrors();\n  }, []);\n  const setSelectedLog = useCallback(index => {\n    LogBoxData.setSelectedLog(index);\n  }, []);\n  function openLog(log) {\n    let index = logs.length - 1;\n    while (index > 0 && logs[index] !== log) {\n      index -= 1;\n    }\n    setSelectedLog(index);\n  }\n  const warnings = useMemo(() => logs.filter(log => log.level === 'warn'), [logs]);\n  const errors = useMemo(() => logs.filter(log => log.level === 'error' || log.level === 'fatal'), [logs]);\n  return _jsxDEV(View, {\n    style: styles.list,\n    children: [warnings.length > 0 && _jsxDEV(ErrorToast, {\n      log: warnings[warnings.length - 1],\n      level: \"warn\",\n      totalLogCount: warnings.length,\n      onPressOpen: () => openLog(warnings[warnings.length - 1]),\n      onPressDismiss: onDismissWarns\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), errors.length > 0 && _jsxDEV(ErrorToast, {\n      log: errors[errors.length - 1],\n      level: \"error\",\n      totalLogCount: errors.length,\n      onPressOpen: () => openLog(errors[errors.length - 1]),\n      onPressDismiss: onDismissErrors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  list: {\n    bottom: 6,\n    left: 10,\n    right: 10,\n    maxWidth: 320,\n    position: 'fixed'\n  }\n});\nexport default LogBoxData.withSubscription(ErrorToastContainer);","map":{"version":3,"names":["React","useCallback","useMemo","StyleSheet","View","ErrorToast","LogBoxData","useLogs","useRejectionHandler","jsxDEV","_jsxDEV","ErrorToastContainer","logs","isDisabled","length","ErrorToastStack","fileName","_jsxFileName","lineNumber","columnNumber","onDismissWarns","clearWarnings","onDismissErrors","clearErrors","setSelectedLog","index","openLog","log","warnings","filter","level","errors","style","styles","list","children","totalLogCount","onPressOpen","onPressDismiss","create","bottom","left","right","maxWidth","position","withSubscription"],"sources":["/app/node_modules/@expo/metro-runtime/src/error-overlay/toast/ErrorToastContainer.web.tsx"],"sourcesContent":["/**\n * Copyright (c) 650 Industries.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useCallback, useMemo } from 'react';\nimport { StyleSheet, View } from 'react-native';\n\nimport { ErrorToast } from './ErrorToast';\nimport * as LogBoxData from '../Data/LogBoxData';\nimport { LogBoxLog } from '../Data/LogBoxLog';\nimport { useLogs } from '../Data/LogContext';\nimport { useRejectionHandler } from '../useRejectionHandler';\n\nexport function ErrorToastContainer() {\n  useRejectionHandler();\n  const { logs, isDisabled } = useLogs();\n  if (!logs.length || isDisabled) {\n    return null;\n  }\n  return <ErrorToastStack logs={logs} />;\n}\n\nfunction ErrorToastStack({ logs }: { logs: LogBoxLog[] }) {\n  const onDismissWarns = useCallback(() => {\n    LogBoxData.clearWarnings();\n  }, []);\n\n  const onDismissErrors = useCallback(() => {\n    LogBoxData.clearErrors();\n  }, []);\n\n  const setSelectedLog = useCallback((index: number): void => {\n    LogBoxData.setSelectedLog(index);\n  }, []);\n\n  function openLog(log: LogBoxLog) {\n    let index = logs.length - 1;\n\n    // Stop at zero because if we don't find any log, we'll open the first log.\n    while (index > 0 && logs[index] !== log) {\n      index -= 1;\n    }\n    setSelectedLog(index);\n  }\n\n  const warnings = useMemo(() => logs.filter((log) => log.level === 'warn'), [logs]);\n\n  const errors = useMemo(\n    () => logs.filter((log) => log.level === 'error' || log.level === 'fatal'),\n    [logs]\n  );\n\n  return (\n    <View style={styles.list}>\n      {warnings.length > 0 && (\n        <ErrorToast\n          log={warnings[warnings.length - 1]}\n          level=\"warn\"\n          totalLogCount={warnings.length}\n          onPressOpen={() => openLog(warnings[warnings.length - 1])}\n          onPressDismiss={onDismissWarns}\n        />\n      )}\n\n      {errors.length > 0 && (\n        <ErrorToast\n          log={errors[errors.length - 1]}\n          level=\"error\"\n          totalLogCount={errors.length}\n          onPressOpen={() => openLog(errors[errors.length - 1])}\n          onPressDismiss={onDismissErrors}\n        />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  list: {\n    bottom: 6,\n    left: 10,\n    right: 10,\n    maxWidth: 320,\n    // @ts-expect-error\n    position: 'fixed',\n  },\n});\n\nexport default LogBoxData.withSubscription(ErrorToastContainer);\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}